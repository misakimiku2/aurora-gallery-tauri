# Aurora Gallery Tauri - 产品文档

## 产品概述

Aurora Gallery Tauri 是一个基于 Tauri v2 构建的现代化桌面图片管理应用，专为高效管理和浏览大量图片而设计。该应用结合了现代前端技术（React + TypeScript）和 Rust 的高性能后端，提供了流畅的用户体验和强大的 AI 功能。

## 核心功能

### 1. 文件管理
- **智能文件扫描**: 递归扫描目录，自动识别图片和文件夹
- **多格式支持**: 支持 JPG, JPEG, PNG, GIF, WebP, BMP, TIFF, ICO, SVG 等格式
- **高效缩略图生成**: 使用 Rust + fast_image_resize 实现高性能图片处理
- **文件操作**: 复制、移动、重命名、删除文件和文件夹
- **虚拟文件系统**: 基于内存的文件树结构，支持快速导航

### 2. AI 智能功能
- **多提供商支持**: OpenAI, Ollama, LM Studio
- **图片分析**: 自动识别物体、场景、颜色、人脸
- **OCR 文字识别**: 提取图片中的文字内容
- **智能翻译**: 自动翻译图片中的文字
- **AI 搜索**: 自然语言搜索，理解用户意图
- **人物识别**: 自动识别和分组人物照片
- **文件夹分析**: 生成文件夹内容的智能摘要

### 3. 视图和浏览
- **多种视图模式**: 网格视图、列表视图、时间线视图
- **图片浏览器**: 支持缩放、旋转、幻灯片播放
- **序列查看器**: 专门用于查看图片序列（如 GIF 帧）
- **标签系统**: 灵活的标签管理和筛选
- **人物管理**: 人物分组、头像设置、关联管理

### 4. 数据管理
- **持久化存储**: 自动保存用户数据、设置和元数据
- **智能缓存**: 缓存缩略图和分析结果
- **数据导出**: 支持导出配置和元数据
- **备份恢复**: 完整的用户数据备份机制

## 技术架构

### 前端技术栈
- **框架**: React 18 + TypeScript
- **构建工具**: Vite
- **样式**: Tailwind CSS + PostCSS
- **状态管理**: React Hooks + Context
- **UI 组件**: 自定义组件库

### 后端技术栈
- **框架**: Tauri v2
- **语言**: Rust
- **图片处理**: image, fast_image_resize, rayon
- **并发处理**: Tokio + Rayon
- **数据存储**: JSON 文件存储

### AI 集成
- **OpenAI API**: GPT-4o 模型
- **Ollama**: 本地模型支持
- **LM Studio**: 本地 API 兼容

## 用户界面

### 主界面布局
1. **顶部工具栏**: 搜索、视图切换、排序、设置
2. **左侧边栏**: 文件夹树、标签、人物、任务列表
3. **主内容区**: 文件网格/列表、图片浏览器
4. **右侧边栏**: 元数据面板、详情查看

### 模态框系统
- 设置面板
- 图片编辑器
- 标签编辑器
- 人物管理
- 文件夹选择器
- 确认对话框

## 性能特性

### 优化策略
- **懒加载**: 图片和缩略图按需加载
- **批量处理**: 并行处理多个文件
- **内存管理**: 高效的内存使用和垃圾回收
- **缓存机制**: 多级缓存策略
- **Web Worker**: 复杂计算异步执行

### 硬件加速
- **GPU 加速**: 利用 GPU 进行图片处理
- **多核优化**: 充分利用多核 CPU
- **SSD 优化**: 针对高速存储的 I/O 优化

## 配置和设置

### 应用设置
- **语言**: 中文/英文
- **主题**: 亮色/暗色/系统
- **路径**: 资源根目录、缓存目录
- **AI 配置**: API 密钥、端点、模型选择
- **行为**: 自动启动、退出行为、动画效果

### AI 设置
- **自动分析**: 新图片自动分析
- **人物识别**: 自动添加人物
- **OCR**: 自动文字识别
- **翻译**: 自动翻译
- **增强描述**: 人物详细描述

## 安全和隐私

### 数据安全
- **本地存储**: 所有数据存储在本地
- **API 密钥**: 安全存储和管理
- **文件权限**: 最小权限原则
- **网络隔离**: 可配置的网络访问

### 隐私保护
- **离线模式**: 支持完全离线使用
- **数据导出**: 用户可导出所有数据
- **缓存清理**: 一键清理所有缓存
- **配置重置**: 恢复默认设置

## 扩展性

### 插件系统
- **自定义 AI 提供商**: 支持添加新的 AI 服务
- **文件格式扩展**: 易于添加新的图片格式
- **视图插件**: 可扩展的视图组件
- **工具插件**: 自定义工具和功能

### API 接口
- **命令接口**: Rust 后端命令
- **事件系统**: 前后端事件通信
- **数据接口**: 标准化的数据结构

## 部署和分发

### 构建目标
- **Windows**: MSI 安装包
- **macOS**: DMG 包
- **Linux**: AppImage, DEB, RPM

### 自动更新
- **检查更新**: 自动检查新版本
- **下载更新**: 后台下载
- **安装更新**: 无缝安装

## 未来发展

### 规划功能
- **云同步**: 跨设备同步
- **分享功能**: 图片分享和协作
- **高级编辑**: 图片编辑和滤镜
- **批量操作**: 更强大的批量处理
- **AI 增强**: 更多 AI 功能

### 技术演进
- **性能优化**: 持续的性能改进
- **新特性**: 跟进最新技术
- **用户体验**: 持续改进 UI/UX

---

*本文档描述了 Aurora Gallery Tauri 的完整产品愿景和技术架构，作为项目开发的指导文档。*