## 优化主色调提取性能

### 问题诊断
当前主色调提取 CPU 使用率只有 50%，主要瓶颈在于：
1. Worker 数量默认只使用逻辑核心数的一半，且上限只有 8 个
2. 每个文件处理完后强制休眠 20-200ms
3. 数据库批量保存阈值较低（20个），频繁触发保存

### 优化方案

#### 方案 1: 增加 Worker 数量（推荐）
修改 `color_worker.rs` 第 132-133 行：
- 将 `default_workers` 从 `(logical_cores / 2).max(1)` 改为 `logical_cores.max(4)`
- 将上限从 `min(8)` 提高到 `min(16)` 或完全移除上限

#### 方案 2: 减少/移除强制休眠
修改 `color_worker.rs` 第 442-444 行：
- 将休眠时间从 `20ms/200ms` 降低到 `5ms/50ms` 或完全移除
- 或者只在检测到 CPU 使用率过高时才休眠

#### 方案 3: 提高批量保存阈值
修改 `color_worker.rs` 第 487 行：
- 将 `batch_save_threshold` 从 20 提高到 100-200
- 减少数据库操作频率，提高吞吐量

#### 方案 4: 环境变量快速调整（无需改代码）
可以设置环境变量 `AURORA_COLOR_WORKERS` 来快速调整 worker 数量：
```powershell
$env:AURORA_COLOR_WORKERS="16"
npm run tauri:dev
```

### 建议的实施顺序
1. **首先尝试环境变量方式**（立即生效，无需改代码）
2. **然后修改 Worker 数量计算逻辑**（长期优化）
3. **最后考虑调整休眠时间**（如果需要进一步提高）

请确认后，我将实施这些优化。