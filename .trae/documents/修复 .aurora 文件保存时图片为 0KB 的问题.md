## 问题分析

从日志错误 `InvalidCharacterError: Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.` 可以看出，问题发生在 `ImageComparer.tsx` 的 `handleSaveSession` 函数中。

**根本原因**：
- Rust 后端的 `read_file_as_base64` 命令返回的是 Data URL 格式：`data:image/png;base64,xxxxxx`
- 但前端代码直接使用 `atob(base64Data)` 解码，而 `atob` 只能处理纯 base64 字符串，不能处理带 `data:` 前缀的字符串

**修复方案**：

修改 `src/components/ImageComparer.tsx` 中的 `handleSaveSession` 函数，在调用 `atob` 之前，先从返回的 base64 字符串中提取纯 base64 部分（去掉 `data:` 前缀）。

具体修改位置：
- 文件：`src/components/ImageComparer.tsx`
- 行号：约 962-968 行
- 修改内容：添加逻辑提取纯 base64 数据

```typescript
// 修改前：
const base64Data = await invoke<string>('read_file_as_base64', { filePath: file.path });
if (base64Data) {
    const imageBytes = Uint8Array.from(atob(base64Data), c => c.charCodeAt(0));
    // ...
}

// 修改后：
const base64Data = await invoke<string>('read_file_as_base64', { filePath: file.path });
if (base64Data) {
    // 提取纯 base64 部分（去掉 data:image/xxx;base64, 前缀）
    const base64Content = base64Data.includes(',') 
        ? base64Data.split(',')[1] 
        : base64Data;
    const imageBytes = Uint8Array.from(atob(base64Content), c => c.charCodeAt(0));
    // ...
}
```

这样修改后，保存的 .aurora 文件中的图片就能正确写入 ZIP 了。